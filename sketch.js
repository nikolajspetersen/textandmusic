//3Latest

function preload() {

  //Recorded sound MED/HARD
  c0 = loadSound('YAMAHA/MedHardDiv/Y_3.wav');
  cs0 = loadSound('YAMAHA/MedHardDiv/Y_4.wav');
  d0 = loadSound('YAMAHA/MedHardDiv/Y_5.wav');
  ds0 = loadSound('YAMAHA/MedHardDiv/Y_6.wav');
  e0 = loadSound('YAMAHA/MedHardDiv/Y_7.wav');
  f0 = loadSound('YAMAHA/MedHardDiv/Y_8.wav');
  fs0 = loadSound('YAMAHA/MedHardDiv/Y_9.wav');
  g0 = loadSound('YAMAHA/MedHardDiv/Y_10.wav');
  gs0 = loadSound('YAMAHA/MedHardDiv/Y_11.wav');
  a0 = loadSound('YAMAHA/MedHardDiv/Y_12.wav');
  as0 = loadSound('YAMAHA/MedHardDiv/Y_13.wav');
  b0 = loadSound('YAMAHA/MedHardDiv/Y_14.wav');

  c1 = loadSound('YAMAHA/MedHardDiv/Y_15.wav');
  cs1 = loadSound('YAMAHA/MedHardDiv/Y_16.wav');
  d1 = loadSound('YAMAHA/MedHardDiv/Y_17.wav');
  ds1 = loadSound('YAMAHA/MedHardDiv/Y_18.wav');
  e1 = loadSound('YAMAHA/MedHardDiv/Y_19.wav');
  f1 = loadSound('YAMAHA/MedHardDiv/Y_20.wav');
  fs1 = loadSound('YAMAHA/MedHardDiv/Y_21.wav');
  g1 = loadSound('YAMAHA/MedHardDiv/Y_22.wav');
  gs1 = loadSound('YAMAHA/MedHardDiv/Y_23.wav');
  a1 = loadSound('YAMAHA/MedHardDiv/Y_24.wav');
  as1 = loadSound('YAMAHA/MedHardDiv/Y_25.wav');
  b1 = loadSound('YAMAHA/MedHardDiv/Y_26.wav');

  c2 = loadSound('YAMAHA/MedHardDiv/Y_27.wav');
  cs2 = loadSound('YAMAHA/MedHardDiv/Y_28.wav');
  d2 = loadSound('YAMAHA/MedHardDiv/Y_29.wav');
  ds2 = loadSound('YAMAHA/MedHardDiv/Y_30.wav');
  e2 = loadSound('YAMAHA/MedHardDiv/Y_31.wav');
  f2 = loadSound('YAMAHA/MedHardDiv/Y_32.wav');
  fs2 = loadSound('YAMAHA/MedHardDiv/Y_33.wav');
  g2 = loadSound('YAMAHA/MedHardDiv/Y_34.wav');
  gs2 = loadSound('YAMAHA/MedHardDiv/Y_35.wav');
  a2 = loadSound('YAMAHA/MedHardDiv/Y_36.wav');
  as2 = loadSound('YAMAHA/MedHardDiv/Y_37.wav');
  b2 = loadSound('YAMAHA/MedHardDiv/Y_38.wav');

  c3 = loadSound('YAMAHA/MedHardDiv/Y_39.wav');
  cs3 = loadSound('YAMAHA/MedHardDiv/Y_40.wav');
  d3 = loadSound('YAMAHA/MedHardDiv/Y_41.wav');
  ds3 = loadSound('YAMAHA/MedHardDiv/Y_42.wav');
  e3 = loadSound('YAMAHA/MedHardDiv/Y_43.wav');
  f3 = loadSound('YAMAHA/MedHardDiv/Y_44.wav');
  fs3 = loadSound('YAMAHA/MedHardDiv/Y_45.wav');
  g3 = loadSound('YAMAHA/MedHardDiv/Y_46.wav');
  gs3 = loadSound('YAMAHA/MedHardDiv/Y_47.wav');
  a3 = loadSound('YAMAHA/MedHardDiv/Y_48.wav');
  as3 = loadSound('YAMAHA/MedHardDiv/Y_49.wav');
  b3 = loadSound('YAMAHA/MedHardDiv/Y_50.wav');

  c4 = loadSound('YAMAHA/MedHardDiv/Y_51.wav');
  cs4 = loadSound('YAMAHA/MedHardDiv/Y_52.wav');
  d4 = loadSound('YAMAHA/MedHardDiv/Y_53.wav');
  ds4 = loadSound('YAMAHA/MedHardDiv/Y_54.wav');
  e4 = loadSound('YAMAHA/MedHardDiv/Y_55.wav');
  f4 = loadSound('YAMAHA/MedHardDiv/Y_56.wav');
  fs4 = loadSound('YAMAHA/MedHardDiv/Y_57.wav');
  g4 = loadSound('YAMAHA/MedHardDiv/Y_58.wav');
  gs4 = loadSound('YAMAHA/MedHardDiv/Y_59.wav');
  a4 = loadSound('YAMAHA/MedHardDiv/Y_60.wav');
  as4 = loadSound('YAMAHA/MedHardDiv/Y_61.wav');
  b4 = loadSound('YAMAHA/MedHardDiv/Y_62.wav');

  c5 = loadSound('YAMAHA/MedHardDiv/Y_63.wav');
  cs5 = loadSound('YAMAHA/MedHardDiv/Y_64.wav');
  d5 = loadSound('YAMAHA/MedHardDiv/Y_65.wav');
  ds5 = loadSound('YAMAHA/MedHardDiv/Y_66.wav');
  e5 = loadSound('YAMAHA/MedHardDiv/Y_67.wav');
  f5 = loadSound('YAMAHA/MedHardDiv/Y_68.wav');
  fs5 = loadSound('YAMAHA/MedHardDiv/Y_69.wav');
  g5 = loadSound('YAMAHA/MedHardDiv/Y_70.wav');
  gs5 = loadSound('YAMAHA/MedHardDiv/Y_71.wav');
  a5 = loadSound('YAMAHA/MedHardDiv/Y_72.wav');
  as5 = loadSound('YAMAHA/MedHardDiv/Y_73.wav');
  b5 = loadSound('YAMAHA/MedHardDiv/Y_74.wav');

  // //recorded MED/SOFT
  // c0 = loadSound('YAMAHA/MedSoftDiv/Y_3.wav');
  // cs0 = loadSound('YAMAHA/MedSoftDiv/Y_4.wav');
  // d0 = loadSound('YAMAHA/MedSoftDiv/Y_5.wav');
  // ds0 = loadSound('YAMAHA/MedSoftDiv/Y_6.wav');
  // e0 = loadSound('YAMAHA/MedSoftDiv/Y_7.wav');
  // f0 = loadSound('YAMAHA/MedSoftDiv/Y_8.wav');
  // fs0 = loadSound('YAMAHA/MedSoftDiv/Y_9.wav');
  // g0 = loadSound('YAMAHA/MedSoftDiv/Y_10.wav');
  // gs0 = loadSound('YAMAHA/MedSoftDiv/Y_11.wav');
  // a0 = loadSound('YAMAHA/MedSoftDiv/Y_12.wav');
  // as0 = loadSound('YAMAHA/MedSoftDiv/Y_13.wav');
  // b0 = loadSound('YAMAHA/MedSoftDiv/Y_14.wav');

  // c1 = loadSound('YAMAHA/MedSoftDiv/Y_15.wav');
  // cs1 = loadSound('YAMAHA/MedSoftDiv/Y_16.wav');
  // d1 = loadSound('YAMAHA/MedSoftDiv/Y_17.wav');
  // ds1 = loadSound('YAMAHA/MedSoftDiv/Y_18.wav');
  // e1 = loadSound('YAMAHA/MedSoftDiv/Y_19.wav');
  // f1 = loadSound('YAMAHA/MedSoftDiv/Y_20.wav');
  // fs1 = loadSound('YAMAHA/MedSoftDiv/Y_21.wav');
  // g1 = loadSound('YAMAHA/MedSoftDiv/Y_22.wav');
  // gs1 = loadSound('YAMAHA/MedSoftDiv/Y_23.wav');
  // a1 = loadSound('YAMAHA/MedSoftDiv/Y_24.wav');
  // as1 = loadSound('YAMAHA/MedSoftDiv/Y_25.wav');
  // b1 = loadSound('YAMAHA/MedSoftDiv/Y_26.wav');

  // c2 = loadSound('YAMAHA/MedSoftDiv/Y_27.wav');
  // cs2 = loadSound('YAMAHA/MedSoftDiv/Y_28.wav');
  // d2 = loadSound('YAMAHA/MedSoftDiv/Y_29.wav');
  // ds2 = loadSound('YAMAHA/MedSoftDiv/Y_30.wav');
  // e2 = loadSound('YAMAHA/MedSoftDiv/Y_31.wav');
  // f2 = loadSound('YAMAHA/MedSoftDiv/Y_32.wav');
  // fs2 = loadSound('YAMAHA/MedSoftDiv/Y_33.wav');
  // g2 = loadSound('YAMAHA/MedSoftDiv/Y_34.wav');
  // gs2 = loadSound('YAMAHA/MedSoftDiv/Y_35.wav');
  // a2 = loadSound('YAMAHA/MedSoftDiv/Y_36.wav');
  // as2 = loadSound('YAMAHA/MedSoftDiv/Y_37.wav');
  // b2 = loadSound('YAMAHA/MedSoftDiv/Y_38.wav');

  // c3 = loadSound('YAMAHA/MedSoftDiv/Y_39.wav');
  // cs3 = loadSound('YAMAHA/MedSoftDiv/Y_40.wav');
  // d3 = loadSound('YAMAHA/MedSoftDiv/Y_41.wav');
  // ds3 = loadSound('YAMAHA/MedSoftDiv/Y_42.wav');
  // e3 = loadSound('YAMAHA/MedSoftDiv/Y_43.wav');
  // f3 = loadSound('YAMAHA/MedSoftDiv/Y_44.wav');
  // fs3 = loadSound('YAMAHA/MedSoftDiv/Y_45.wav');
  // g3 = loadSound('YAMAHA/MedSoftDiv/Y_46.wav');
  // gs3 = loadSound('YAMAHA/MedSoftDiv/Y_47.wav');
  // a3 = loadSound('YAMAHA/MedSoftDiv/Y_48.wav');
  // as3 = loadSound('YAMAHA/MedSoftDiv/Y_49.wav');
  // b3 = loadSound('YAMAHA/MedSoftDiv/Y_50.wav');

  // c4 = loadSound('YAMAHA/MedSoftDiv/Y_51.wav');
  // cs4 = loadSound('YAMAHA/MedSoftDiv/Y_52.wav');
  // d4 = loadSound('YAMAHA/MedSoftDiv/Y_53.wav');
  // ds4 = loadSound('YAMAHA/MedSoftDiv/Y_54.wav');
  // e4 = loadSound('YAMAHA/MedSoftDiv/Y_55.wav');
  // f4 = loadSound('YAMAHA/MedSoftDiv/Y_56.wav');
  // fs4 = loadSound('YAMAHA/MedSoftDiv/Y_57.wav');
  // g4 = loadSound('YAMAHA/MedSoftDiv/Y_58.wav');
  // gs4 = loadSound('YAMAHA/MedSoftDiv/Y_59.wav');
  // a4 = loadSound('YAMAHA/MedSoftDiv/Y_60.wav');
  // as4 = loadSound('YAMAHA/MedSoftDiv/Y_61.wav');
  // b4 = loadSound('YAMAHA/MedSoftDiv/Y_62.wav');

console.log("loaded")
}

// Many DOM elements
var dropZone, input, button, sample, clearButton, tslider, vsliderm, vsliderc, vsliderb, sv, bpm, str, chartext, mv, cv, bv, sampleLIB, sampleH, sampleBIW, lmtxt, lctxt, lbtxt;

var pianoimg;
// An array to keep track of all the new DOM elements being added
var paragraphs = [];

var inputText = '';

var grammar = {};
var cfree;

var input1, input2, input3, button1, button2, button3, button4;

var input1Focused = false;
var input2Focused = false;
var input3Focused = false;

var whitekeys = "qwertyuiop[]zxcvbnm,./";
var blackkeys = "23 567 90 =as fg jkl";
var whitekeysc = ""



// Selecting the text field and button
document.addEventListener("DOMContentLoaded", function(event) {
  input1 = document.getElementById('textinput1');
  input2 = document.getElementById('textinput2');
  input3 = document.getElementById('textinput3');
  button1 = document.getElementById('submit1');
  button2 = document.getElementById('submit2');
  button3 = document.getElementById('submit3');

  //Listens to when textareas are chosen. 
  input1.addEventListener("focus", function(){   
    input1Focused = true; 
    input2Focused = false;
    input3Focused = false;
  });
  input2.addEventListener("focus", function(){   
    input1Focused = false; 
    input2Focused = true;
    input3Focused = false;
  });
  input3.addEventListener("focus", function(){   
    input1Focused = false; 
    input2Focused = false;
    input3Focused = true;
  });
});


function setup() {
  var cnv = createCanvas(1250,400);
  cnv.parent("myContainer");

  pianoimg = loadImage("PianoSketch/Piano1.png");

  // Sliders for tempo, melody/chord and base Volume
  tslider = createSlider(100, 200, 150);

  tslider.parent("tslider");

  vsliderm = createSlider(0, 100, 50);
  vsliderc = createSlider(0, 100, 50);
  vsliderb = createSlider(0, 100, 50);

  vsliderm.parent("vsliderm");
  vsliderc.parent("vsliderc");
  vsliderb.parent("vsliderb");

  //Makeing DOM into p5 objects
  textinput1 = select('#textinput1');
  textinput2 = select('#textinput2');
  textinput3 = select('#textinput3');

  //Assignign p5 buttons to DOM elements
  button1 = select('#submit1');
  button2 = select('#submit2');
  button3 = select('#submit3');
  button4 = select('#submit4');
  // button5 = select('#submit5');
  button6 = select('#submit6')

  // What to do when button pressed
  button1.mousePressed(playMelody);
  button2.mousePressed(playChords);
  button3.mousePressed(playBase);
  button4.mousePressed(playAll);
  // button5.mousePressed(stopSong);
  button6.mousePressed(clearText);

  sampleLIB = select('#LIB');
  // SampleBIW = select('#BIW');
  // SampleHAL = select('#HAL');

  sampleLIB.mousePressed(loadFileLIB);
  // sampleBIW.mousePressed(loadFileBIW);
  // sampleH.mousePressed(loadFileHAL);

  function loadFileLIB() {
    loadStrings('SongFiles/LIB/LIBm.txt', mfileLoaded);
    loadStrings('SongFiles/LIB/LIBc.txt', cfileLoaded); 
    loadStrings('SongFiles/LIB/LIBb.txt', bfileLoaded);     
  }

  // function loadFileBIW() {
  //   loadStrings('SongFiles/BIW/.txt', fileLoaded);    
  // }

  // function loadFileHAL() {
  //   loadStrings('SongFiles/LetItBe.txt', fileLoaded);    
  // }

function mfileLoaded(data) {
  var lmtxt = data.join('\n');
  textinput1.value(lmtxt);
}

function cfileLoaded(data) {
  var lctxt = data.join('\n');
  textinput2.value(lctxt);
}

//Joining 
function bfileLoaded(data) {
  var lbtxt = data.join('\n');
  textinput3.value(lbtxt);
}



  //These are the functions called when playing the mel/chords/base/all
  function playMelody() {
    //Making the input into a string
    str = textinput1.value();
    //Making an array of 
    chartext = str.split("");
    var area = "melody"
    handleInput(area, chartext);
  }

  function playChords() {
    str = textinput2.value();
    chartext = str.split("");
    var area = "chord"
    handleInput(area, chartext);
  }

  function playBase() {
    str = textinput3.value();
    chartext = str.split("");
    var area = "base"
    handleInput(area, chartext);
  }

  function playAll() {

    var str1 = textinput1.value();
    var str2 = textinput2.value();
    var str3 = textinput3.value();
    // console.log(str);
    var chartext1 = str1.split("");
    var chartext2 = str2.split("");
    var chartext3 = str3.split("");
    var area = "all"

    handleInput("melody", chartext1);
    handleInput("chord", chartext2);
    handleInput("base", chartext3);
  }

  // function stopSong(){
  //   var chartext1 = [];
  //   var chartext2 = [];
  //   var chartext3 = [];
  // }

  function clearText(){
    textinput1.value("");
    textinput2.value("");
    textinput3.value("");

  }

  var bpm = select('#bpm');
}

function draw() {
  //Tempo slider. 
 sv = tslider.value(); 

  //Volume sliders
 mv = vsliderm.value()*0.01;
 cv = vsliderc.value()*0.01;
 bv = vsliderb.value()*0.01;

 var factor = 4.57;


// if(mouseY < 400){ 
//  factor = mouseY/(400/4.57);
// }
 
 // if(factor < 4.57) { 
 //    for(var i = 0; i < 457; i++) {
 //    factor = factor + 0.01; 
 //    }
 //  }

 // if(factor < 4.57) { 
 //  factor = factor + 0.5;
 //  }

 image(pianoimg, 0, 0, pianoimg.width/factor, pianoimg.height/factor);

 var wkarray = whitekeys.split("");
 var bkarray = blackkeys.split("");

 var wkmstart = 507;
 var bkmstart = 520;
 var wkbstart = wkmstart - 497;
 var bkbstart = bkmstart - 497;


 if(input1Focused){
   for (var j = 0; j < wkarray.length; j++) {
    textSize(12);
    fill(0);
    text(wkarray[j], 50 + wkmstart, 135); 
    wkmstart += 24;
   }

   for (var j = 0; j < bkarray.length; j++) {
    textSize(12);
    fill(255);
    text(bkarray[j], 50 + bkmstart, 100); 
    bkmstart += 24;
   }
 }

 if(input3Focused){
   for (var j = 0; j < wkarray.length; j++) {
    textSize(12);
    fill(0);
    text(wkarray[j], 50 + wkbstart, 135); 
    wkbstart += 23.8;
   }

   for (var j = 0; j < bkarray.length; j++) {
    textSize(12);
    fill(255);
    text(bkarray[j], 50 + bkbstart, 100); 
    bkbstart += 23.8;
   }
 }
}



// Handle the text input field
function handleInput(area, chartext) {

  // switch(area) {
  //   case "melody": 
  //     input1Focused = true; 
  //     input2Focused = false;
  //     input3Focused = false;
  //     break;
  //   case "chord":
  //     input1Focused = false; 
  //     input2Focused = true;
  //     input3Focused = false;
  //     break; 
  //   case "base": 
  //     input1Focused = false; 
  //     input2Focused = false;
  //     input3Focused = true;
  //     break;
  //   case "all":
  //     input1Focused = true; 
  //     input2Focused = true;
  //     input3Focused = true;
  //     break; 
  // }

  // if(area === "melody") {
  //   input1Focused = true; 
  //   input2Focused = false;
  //   input3Focused = false;
  // } else if(area === "chord") {
  //   input1Focused = false; 
  //   input2Focused = true;
  //   input3Focused = false;
  // } else if(area === "base") {
  //   input1Focused = false; 
  //   input2Focused = false;
  //   input3Focused = true;
  // } 

  // else if(area === "all") {
  //   input1Focused = true; 
  //   input2Focused = true;
  //   input3Focused = true;
  // }

  // console.log(input1Focused);
  // console.log(input2Focused);
  // console.log(input3Focused);

  // str = textinput1.value();
  // console.log(str);
  // chartext = str.split("");

  // making a startime for the settimeout fxn
  var startTime = 0;

  for (var i = 0; i < chartext.length; i++) {
    var keychar = "";
    var keychar = chartext[i];
    playIt(keychar, startTime, area);
    startTime = startTime + sv;
  }
}

function playIt(key, index, area) { 
  setTimeout(delayPlayIt, index);
  
  function delayPlayIt() {

    var melodyvolume = mv;
    var chordvolume = cv;
    var basevolume = bv;

     if (key === 'q') {
      switch(area){
        case "melody":
        c2.setVolume(melodyvolume);
        c2.play();
        break;
        case "chord":
        c2.setVolume(chordvolume);
        c2.play();
        e2.setVolume(chordvolume);
        e2.play();
        g2.setVolume(chordvolume);
        g2.play();
        break;
        case "base":
        c0.setVolume(basevolume);
        c0.play();  
        break;
      }
     }

     if (key === '2') {
      switch(area){
        case "melody":
        cs2.setVolume(melodyvolume);
        cs2.play();
        break;
        case "chord":
        cs2.setVolume(chordvolume);
        cs2.play();
        f2.setVolume(chordvolume);
        f2.play();
        gs2.setVolume(chordvolume);
        gs2.play();
        break;
        case "base":
        cs0.setVolume(basevolume);
        cs0.play();
        break;
      }
    }

     if (key === 'w') {
      switch(area){
        case "melody":
        d2.setVolume(melodyvolume);
        d2.play();
        break;
        case "chord":
        d2.setVolume(chordvolume);
        d2.play();
        fs2.setVolume(chordvolume);
        fs2.play();
        a2.setVolume(chordvolume);
        a2.play();
        break;
        case "base":
        d0.setVolume(basevolume);
        d0.play();
        break;
      }
    }
     if (key === '3') {
      switch(area){
        case "melody":
        ds2.setVolume(melodyvolume);
        ds2.play();
        break;
        case "chord":
        ds2.setVolume(chordvolume);
        ds2.play();
        g2.setVolume(chordvolume);
        g2.play();
        as2.setVolume(chordvolume);
        as2.play();
        break;
        case "base":
        ds0.setVolume(basevolume);
        ds0.play();
        break;
      } 
    }
     if (key === 'e') {
      switch(area){
        case "melody":
        e2.setVolume(melodyvolume);
        e2.play();
        break;
        case "chord":
        e2.setVolume(chordvolume);
        e2.play();
        gs2.setVolume(chordvolume);
        gs2.play();
        b2.setVolume(chordvolume);
        b2.play();
        break;
        case "base":
        e0.setVolume(basevolume);
        e0.play();
        break;
      }
    }
     if (key === 'r') {
      switch(area){
        case "melody":
        f2.setVolume(melodyvolume);
        f2.play();
        break;
        case "chord":
        f2.setVolume(chordvolume);
        f2.play();
        a2.setVolume(chordvolume);
        a2.play();
        c2.setVolume(chordvolume);
        c2.play();
        break;
        case "base":
        f0.setVolume(basevolume);
        f0.play();
        break;
      }
    }
     if (key === '5') {
      switch(area){
        case "melody":
        fs2.setVolume(melodyvolume);
        fs2.play();
        break;
        case "chord":
        fs2.setVolume(chordvolume);
        fs2.play();
        as2.setVolume(chordvolume);
        as2.play();
        cs2.setVolume(chordvolume);
        cs2.play();
        break;
        case "base":
        fs0.setVolume(basevolume);
        fs0.play();
        break;
      }
    }
     if (key === 't') {
      switch(area){
        case "melody":
        g2.setVolume(melodyvolume);
        g2.play();
        break;
        case "chord":
        g2.setVolume(chordvolume);
        g2.play();
        b2.setVolume(chordvolume);
        b2.play();
        d2.setVolume(chordvolume);
        d2.play();
        break;
        case "base":
        g0.setVolume(basevolume);
        g0.play();
        break;
      } 
    }
      if (key === '6') {
       switch(area){
        case "melody":
        gs2.setVolume(melodyvolume);
        gs2.play();
        break;
        case "chord":
        gs2.setVolume(chordvolume);
        gs2.play();
        c2.setVolume(chordvolume);
        c2.play();
        ds2.setVolume(chordvolume);
        ds2.play();
        break;
        case "base":
        gs0.setVolume(basevolume);
        gs0.play();
        break;
       }
     }
     if (key === 'y') {
      switch(area){
        case "melody":
        a2.setVolume(melodyvolume);
        a2.play();
        break;
        case "chord":
        a2.setVolume(chordvolume);
        a2.play();
        cs2.setVolume(chordvolume);
        cs2.play();
        e2.setVolume(chordvolume);
        e2.play();
        break;
        case "base":
        a0.setVolume(basevolume);
        a0.play();
        break;
      }
    }
     if (key === '7') {
      switch(area){
        case "melody":
        as2.setVolume(melodyvolume);
        as2.play();
        break;
        case "chord":
        as2.setVolume(chordvolume);
        as2.play();
        d2.setVolume(chordvolume);
        d2.play();
        f2.setVolume(chordvolume);
        f2.play();
        break;
        case "base":
        as0.setVolume(basevolume);
        as0.play();
        break;
      }
    }
     if (key === 'u' ) {
      switch(area){
        case "melody":
        b2.setVolume(melodyvolume);
        b2.play();
        break;
        case "chord":
        b2.setVolume(chordvolume);
        b2.play();
        ds2.setVolume(chordvolume);
        ds2.play();
        fs2.setVolume(chordvolume);
        fs2.play();
        break;
        case "base":
        b0.setVolume(basevolume);
        b0.play();
        break;
      } 
    }

    //Minor chords start in input2Focused
     if (key === 'i') {
      switch(area){
        case "melody":
        c3.setVolume(melodyvolume);
        c3.play();
        break;
        case "chord":
        c2.setVolume(chordvolume);
        c2.play();
        ds2.setVolume(chordvolume);
        ds2.play();
        g2.setVolume(chordvolume);
        g2.play();
        break;
        case "base":
        c1.setVolume(basevolume);
        c1.play();
        break;
     } 
   }
     if (key === '9') {
      switch(area){
        case "melody":
        cs3.setVolume(melodyvolume);
        cs3.play();
        break;
        case "chord":
        cs2.setVolume(chordvolume);
        cs2.play();
        e2.setVolume(chordvolume);
        e2.play();
        gs2.setVolume(chordvolume);
        gs2.play();
        break;
        case "base":
        cs1.setVolume(basevolume);
        cs1.play();
        break;
     } 
   }
     if (key === 'o') {
      switch(area){
        case "melody":
        d3.setVolume(melodyvolume);
        d3.play();
        break;
        case "chord":
        d2.setVolume(chordvolume);
        d2.play();
        f2.setVolume(chordvolume);
        f2.play();
        a2.setVolume(chordvolume);
        a2.play();
        break;
        case "base":
        d1.setVolume(basevolume);
        d1.play();
        break;
     } 
   }
     if (key === '0') {
      switch(area){
        case "melody":
        ds3.setVolume(melodyvolume);
        ds3.play();
        break;
        case "chord":
        ds2.setVolume(chordvolume);
        ds2.play();
        fs2.setVolume(chordvolume);
        fs2.play();
        as2.setVolume(chordvolume);
        as2.play();
        break;
        case "base":
        ds1.setVolume(basevolume);
        ds1.play();
        break;
     } 
   }
     if (key === 'p') {
      switch(area){
        case "melody":
        e3.setVolume(melodyvolume);
        e3.play();
        break;
        case "chord":
        e2.setVolume(chordvolume);
        e2.play();
        g2.setVolume(chordvolume);
        g2.play();
        b2.setVolume(chordvolume);
        b2.play();
        break;
        case "base":
        e1.setVolume(basevolume);
        e1.play();
        break;
     } 
   }
     if (key === '[') {
      switch(area){
        case "melody":
        f3.setVolume(melodyvolume);
        f3.play();
        break;
        case "chord":
        f2.setVolume(chordvolume);
        f2.play();
        gs2.setVolume(chordvolume);
        gs2.play();
        c2.setVolume(chordvolume);
        c2.play();
        break;
        case "base":
        f1.setVolume(basevolume);
        f1.play();
        break;
     } 
   }
     if (key === '=') {
      switch(area){
        case "melody":
        fs3.setVolume(melodyvolume);
        fs3.play();
        break;
        case "chord":
        fs2.setVolume(chordvolume);
        fs2.play();
        a2.setVolume(chordvolume);
        a2.play();
        cs2.setVolume(chordvolume);
        cs2.play();
        break;
        case "base":
        fs1.setVolume(basevolume);
        fs1.play();
        break;
     } 
   }
     if (key === ']') {
      switch(area){
        case "melody":
        g3.setVolume(melodyvolume);
        g3.play();
        break;
        case "chord":
        g2.setVolume(chordvolume);
        g2.play();
        as2.setVolume(chordvolume);
        as2.play();
        d2.setVolume(chordvolume);
        d2.play();
        break;
        case "base":
        g1.setVolume(basevolume);
        g1.play();
        break;
     } 
   }
// second half of the keyboard.

     if (key === 'a' ) {
      switch(area){
        case "melody":
        gs3.setVolume(melodyvolume);
        gs3.play();
        break;
        case "chord":
        gs2.setVolume(chordvolume);
        gs2.play();
        b2.setVolume(chordvolume);
        b2.play();
        ds2.setVolume(chordvolume);
        ds2.play();
        break;
        case "base":
        gs1.setVolume(basevolume);
        gs1.play();
       break; 
     }
    }
     if (key === 'z') {
      switch(area){
        case "melody":
        a3.setVolume(melodyvolume);
        a3.play();
        break;
        case "chord":
        a2.setVolume(chordvolume);
        a2.play();
        c2.setVolume(chordvolume);
        c2.play();
        e2.setVolume(chordvolume);
        e2.play();
        break;
        case "base":
        a1.setVolume(basevolume);
        a1.play();
        break;
     }
   }
     if (key === 's') {
      switch(area){
        case "melody":
        as3.setVolume(melodyvolume);
        as3.play();
        break;
        case "chord": 
        as2.setVolume(chordvolume);
        as2.play();
        cs2.setVolume(chordvolume);
        cs2.play();
        f2.setVolume(chordvolume);
        f2.play();
        break;
        case "base": 
        as1.setVolume(basevolume);
        as1.play();
        break; 
     }
   }
     if (key === 'x') {
      switch(area){
        case "melody":
        b3.setVolume(melodyvolume);
        b3.play();
        break;
        case "chord":
        b2.setVolume(chordvolume);
        b2.play();
        d2.setVolume(chordvolume);
        d2.play();
        fs2.setVolume(chordvolume);
        fs2.play();
        break;
        case "base":
        b1.setVolume(basevolume);
        b1.play();
        break;
     } 
   }

    // Major 7 chords starts here in input2Focused
     if (key === 'c') {
      switch(area){
        case "melody":
        c4.setVolume(melodyvolume);
        c4.play();
        break;
        case "chord":
        d3.setVolume(chordvolume);
        d3.play();
        e2.setVolume(chordvolume);
        e2.play();
        g2.setVolume(chordvolume);
        g2.play();
        break;
        case "base":
        c2.setVolume(basevolume);
        c2.play();
        break;
     }
   }
     if (key === 'f') {
      switch(area){
        case "melody":
        cs4.setVolume(melodyvolume);
        cs4.play();
        break;
        case "chord":
        ds3.setVolume(chordvolume);
        ds3.play();
        f2.setVolume(chordvolume);
        f2.play();
        gs2.setVolume(chordvolume);
        gs2.play();
        break;
        case "base":
        cs2.setVolume(basevolume);
        cs2.play();
        break; 
     }
   }
       if (key === 'v') {
      switch(area){
        case "melody":
        d4.setVolume(melodyvolume);
        d4.play();
        break;
        case "chord":
        e3.setVolume(chordvolume);
        e3.play();
        fs2.setVolume(chordvolume);
        fs2.play();
        a2.setVolume(chordvolume);
        a2.play();
        break;
        case "base":
        d2.setVolume(basevolume);
        d2.play();
        break;
     }
   }
     if (key === 'g') {
      switch(area){
        case "melody":
        ds4.setVolume(melodyvolume);
        ds4.play();
        break;
        case "chord":
        f3.setVolume(chordvolume);
        f3.play();
        g2.setVolume(chordvolume);
        g2.play();
        as2.setVolume(chordvolume);
        as2.play();
        break;
        case "base":
        ds2.setVolume(basevolume);
        ds2.play();
        break; 
     } 
   }
      if (key === 'b') {
       switch(area){
        case "melody":
        e4.setVolume(melodyvolume);
        e4.play();
        break;
        case "chord":
        fs3.setVolume(chordvolume);
        fs3.play();
        gs2.setVolume(chordvolume);
        gs2.play();
        b2.setVolume(chordvolume);
        b2.play();
        break;
        case "base":
        e2.setVolume(basevolume);
        e2.play();
        break; 
     }
   }
     if (key === 'n') {
      switch(area){
        case "melody":
        f4.setVolume(melodyvolume);
        f4.play();
        break;
        case "chord":
        g3.setVolume(chordvolume);
        g3.play();
        a2.setVolume(chordvolume);
        a2.play();
        c2.setVolume(chordvolume);
        c2.play();
        break;
        case "base":
        f2.setVolume(basevolume);
        f2.play();
        break;
     }
   }
     if (key === 'j') {
      switch(area){
        case "melody":
        fs4.setVolume(melodyvolume);
        fs4.play(); 
        break;
        case "chord": 
        gs3.setVolume(chordvolume);
        gs3.play();
        a2.setVolume(chordvolume);
        a2.play();
        c2.setVolume(chordvolume);
        c2.play();
        break;
        case "base":
        fs2.setVolume(basevolume);
        fs2.play();
        break;  
     }
   }
     if (key === 'm' ) {
      switch(area){
        case "melody":
        g4.setVolume(melodyvolume);
        g4.play();
        break;
        case "chord":
        a3.setVolume(chordvolume);
        a3.play();
        b2.setVolume(chordvolume);
        b2.play();
        d2.setVolume(chordvolume);
        d2.play();
        break;
        case "base":
        g2.setVolume(basevolume);
        g2.play();
        break;
     } 
   }
     if (key === 'k') {
      switch(area){
        case "melody":
        gs4.setVolume(melodyvolume);
        gs4.play();
        break;
        case "chord":
        as3.setVolume(chordvolume);
        as3.play();
        c2.setVolume(chordvolume);
        c2.play();
        ds2.setVolume(chordvolume);
        ds2.play();
        break;
        case "base":
        gs2.setVolume(basevolume);
        gs2.play();
        break; 
     } 
   }
     if (key === ',') {
      switch(area){
        case "melody":
        a4.setVolume(melodyvolume);
        a4.play();
        break;
        case "chord":
        b3.setVolume(chordvolume);
        b3.play();
        cs2.setVolume(chordvolume);
        cs2.play();
        e2.setVolume(chordvolume);
        e2.play();
        break;
        case "base":
        a2.setVolume(basevolume);
        a2.play();
        break;
     } 
   }
     if (key === 'l') {
      switch(area){
        case "melody":
        as4.setVolume(melodyvolume);
        as4.play(); 
        break;
        case "chord": 
        c3.setVolume(chordvolume);
        c3.play();
        d2.setVolume(chordvolume);
        d2.play();
        f2.setVolume(chordvolume);
        f2.play();
        break;
        case "base":
        as2.setVolume(basevolume);
        as2.play();
        break;  
     } 
   }
     if (key === '.') {
      switch(area){
        case "melody":
        b4.setVolume(melodyvolume);
        b4.play();
        break;
        case "chord":
        cs3.setVolume(chordvolume);
        cs3.play();
        ds2.setVolume(chordvolume);
        ds2.play();
        fs2.setVolume(chordvolume);
        fs2.play();
        break;
        case "base":
        b2.setVolume(basevolume);
        b2.play();
        break;
     } 
   }
     if (key === '/') {
      switch(area){
        case "melody":
        c5.setVolume(melodyvolume);
        c5.play();
        break;
        case "chord":
        d3.setVolume(chordvolume);
        d3.play();
        e2.setVolume(chordvolume);
        e2.play();
        g2.setVolume(chordvolume);
        g2.play();
        break;
        case "base":
        c3.setVolume(basevolume);
        c3.play();
        break;
     } 
   }
  }
}

// This function handles the realtime player. 

function keyTyped() {
      
     // KEYBOARD PIANO c0 - c5, q2w3er5t6y7ui9o0p[=]azsxcfvgbnjmk,l./

    var melodyvolume = mv;
    var chordvolume = cv;
    var basevolume = bv;

     if (key === 'q') {
      if(input1Focused){
        c2.setVolume(melodyvolume);
        c2.play();
      }  if(input2Focused){
        c2.setVolume(chordvolume);
        c2.play();
        e2.setVolume(chordvolume);
        e2.play();
        g2.setVolume(chordvolume);
        g2.play();
      }  if(input3Focused){
        c0.setVolume(basevolume);
        c0.play();  
      }
     }

     if (key === '2') {
      if(input1Focused){
        cs2.setVolume(melodyvolume);
        cs2.play();
        }  if(input2Focused){
        cs2.setVolume(chordvolume);
        cs2.play();
        f2.setVolume(chordvolume);
        f2.play();
        gs2.setVolume(chordvolume);
        gs2.play();
        }  if(input3Focused){
        cs0.setVolume(basevolume);
        cs0.play();
      }
    }

     if (key === 'w') {
      if(input1Focused){
        d2.setVolume(melodyvolume);
        d2.play();
      }  if(input2Focused){
        d2.setVolume(chordvolume);
        d2.play();
        fs2.setVolume(chordvolume);
        fs2.play();
        a2.setVolume(chordvolume);
        a2.play();
      }  if(input3Focused){
        d0.setVolume(basevolume);
        d0.play();
      }
    }
     if (key === '3') {
      if(input1Focused){
        ds2.setVolume(melodyvolume);
        ds2.play();
      }  if(input2Focused){
        ds2.setVolume(chordvolume);
        ds2.play();
        g2.setVolume(chordvolume);
        g2.play();
        as2.setVolume(chordvolume);
        as2.play();
      }  if(input3Focused){
        ds0.setVolume(basevolume);
        ds0.play();
      } 
    }
     if (key === 'e') {
      if(input1Focused){
        e2.setVolume(melodyvolume);
        e2.play();
      }  if(input2Focused){
        e2.setVolume(chordvolume);
        e2.play();
        gs2.setVolume(chordvolume);
        gs2.play();
        b2.setVolume(chordvolume);
        b2.play();
      }  if(input3Focused){
        e0.setVolume(basevolume);
        e0.play();
      }
    }
     if (key === 'r') {
      if(input1Focused){
        f2.setVolume(melodyvolume);
        f2.play();
      }  if(input2Focused){
        f2.setVolume(chordvolume);
        f2.play();
        a2.setVolume(chordvolume);
        a2.play();
        c2.setVolume(chordvolume);
        c2.play();
      }  if(input3Focused){
        f0.setVolume(basevolume);
        f0.play();
      }
    }
     if (key === '5') {
      if(input1Focused){
        fs2.setVolume(melodyvolume);
        fs2.play();
      }  if(input2Focused){
        fs2.setVolume(chordvolume);
        fs2.play();
        as2.setVolume(chordvolume);
        as2.play();
        cs2.setVolume(chordvolume);
        cs2.play();
      }  if(input3Focused){
        fs0.setVolume(basevolume);
        fs0.play();
      }
    }
     if (key === 't') {
      if(input1Focused){
        g2.setVolume(melodyvolume);
        g2.play();
      }  if(input2Focused){
        g2.setVolume(chordvolume);
        g2.play();
        b2.setVolume(chordvolume);
        b2.play();
        d2.setVolume(chordvolume);
        d2.play();
      }  if(input3Focused){
        g0.setVolume(basevolume);
        g0.play();
      } 
    }
      if (key === '6') {
       if(input1Focused){
         gs2.setVolume(melodyvolume);
         gs2.play();
       }  if(input2Focused){
        gs2.setVolume(chordvolume);
        gs2.play();
        c2.setVolume(chordvolume);
        c2.play();
        ds2.setVolume(chordvolume);
        ds2.play();
       }  if(input3Focused){
         gs0.setVolume(basevolume);
         gs0.play();
       }
     }
     if (key === 'y') {
      if(input1Focused){
        a2.setVolume(melodyvolume);
        a2.play();
      }  if(input2Focused){
        a2.setVolume(chordvolume);
        a2.play();
        cs2.setVolume(chordvolume);
        cs2.play();
        e2.setVolume(chordvolume);
        e2.play();
      }  if(input3Focused){
        a0.setVolume(basevolume);
        a0.play();
      }
    }
     if (key === '7') {
      if(input1Focused){
        as2.setVolume(melodyvolume);
        as2.play();
      }  if(input2Focused){
        as2.setVolume(chordvolume);
        as2.play();
        d2.setVolume(chordvolume);
        d2.play();
        f2.setVolume(chordvolume);
        f2.play();
      }  if(input3Focused){
        as0.setVolume(basevolume);
        as0.play();
      }
    }
     if (key === 'u' ) {
      if(input1Focused){
        b2.setVolume(melodyvolume);
        b2.play();
      }  if(input2Focused){
        b2.setVolume(chordvolume);
        b2.play();
        ds2.setVolume(chordvolume);
        ds2.play();
        f2.setVolume(chordvolume);
        f2.play();
      }  if(input3Focused){
        b0.setVolume(basevolume);
        b0.play();
      } 
    }

    //Minor chords start in input2Focused
     if (key === 'i') {
      if(input1Focused){
        c3.setVolume(melodyvolume);
        c3.play();
      }  if(input2Focused){
        c2.setVolume(chordvolume);
        c2.play();
        ds2.setVolume(chordvolume);
        ds2.play();
        g2.setVolume(chordvolume);
        g2.play();
      }  if(input3Focused){
        c1.setVolume(basevolume);
        c1.play();
     } 
   }
     if (key === '9') {
      if(input1Focused){
        cs3.setVolume(melodyvolume);
        cs3.play();
      }  if(input2Focused){
        cs2.setVolume(chordvolume);
        cs2.play();
        e2.setVolume(chordvolume);
        e2.play();
        gs2.setVolume(chordvolume);
        gs2.play();
      }  if(input3Focused){
        cs1.setVolume(basevolume);
        cs1.play();
     } 
   }
     if (key === 'o') {
      if(input1Focused){
        d3.setVolume(melodyvolume);
        d3.play();
      }  if(input2Focused){
        d2.setVolume(chordvolume);
        d2.play();
        f2.setVolume(chordvolume);
        f2.play();
        a2.setVolume(chordvolume);
        a2.play();
      }  if(input3Focused){
        d1.setVolume(basevolume);
        d1.play();
     } 
   }
     if (key === '0') {
      if(input1Focused){
        ds3.setVolume(melodyvolume);
        ds3.play();
      }  if(input2Focused){
        ds2.setVolume(chordvolume);
        ds2.play();
        fs2.setVolume(chordvolume);
        fs2.play();
        as2.setVolume(chordvolume);
        as2.play();
      }  if(input3Focused){
        ds1.setVolume(basevolume);
        ds1.play();
     } 
   }
     if (key === 'p') {
      if(input1Focused){
        e3.setVolume(melodyvolume);
        e3.play();
      }  if(input2Focused){
        e2.setVolume(chordvolume);
        e2.play();
        g2.setVolume(chordvolume);
        g2.play();
        b2.setVolume(chordvolume);
        b2.play();
      }  if(input3Focused){
        e1.setVolume(basevolume);
        e1.play();
     } 
   }
     if (key === '[') {
      if(input1Focused){
        f3.setVolume(melodyvolume);
        f3.play();
      }  if(input2Focused){
        f2.setVolume(chordvolume);
        f2.play();
        gs2.setVolume(chordvolume);
        gs2.play();
        c2.setVolume(chordvolume);
        c2.play();
      }  if(input3Focused){
        f1.setVolume(basevolume);
        f1.play();
     } 
   }
     if (key === '=') {
      if(input1Focused){
        fs3.setVolume(melodyvolume);
        fs3.play();
      }  if(input2Focused){
        fs2.setVolume(chordvolume);
        fs2.play();
        a2.setVolume(chordvolume);
        a2.play();
        cs2.setVolume(chordvolume);
        cs2.play();
      }  if(input3Focused){
        fs1.setVolume(basevolume);
        fs1.play();
     } 
   }
     if (key === ']') {
      if(input1Focused){
        g3.setVolume(melodyvolume);
        g3.play();
      }  if(input2Focused){
        g2.setVolume(chordvolume);
        g2.play();
        as2.setVolume(chordvolume);
        as2.play();
        d2.setVolume(chordvolume);
        d2.play();
      }  if(input3Focused){
        g1.setVolume(basevolume);
        g1.play();
     } 
   }
// second half of the keyboard.

     if (key === 'a' ) {
      if(input1Focused){
        gs3.setVolume(melodyvolume);
        gs3.play();
      } else if(input2Focused){
        gs2.setVolume(chordvolume);
        gs2.play();
        b2.setVolume(chordvolume);
        b2.play();
        ds2.setVolume(chordvolume);
        ds2.play();
      } else if(input3Focused){
        gs1.setVolume(basevolume);
        gs1.play();
     }
    }
     if (key === 'z') {
      if(input1Focused){
        a3.setVolume(melodyvolume);
        a3.play();
      } else if(input2Focused){
        a2.setVolume(chordvolume);
        a2.play();
        c2.setVolume(chordvolume);
        c2.play();
        e2.setVolume(chordvolume);
        e2.play();
      } else if(input3Focused){
        a1.setVolume(basevolume);
        a1.play();
     }
   }
     if (key === 's') {
      if(input1Focused){
        as3.setVolume(melodyvolume);
        as3.play();
      } else if(input2Focused){ 
        as2.setVolume(chordvolume);
        as2.play();
        cs2.setVolume(chordvolume);
        cs2.play();
        f2.setVolume(chordvolume);
        f2.play();
      } else if(input3Focused){ 
        as1.setVolume(basevolume);
        as1.play();
     }
   }
     if (key === 'x') {
      if(input1Focused){
        b3.setVolume(melodyvolume);
        b3.play();
      } else if(input2Focused){
        b2.setVolume(chordvolume);
        b2.play();
        d2.setVolume(chordvolume);
        d2.play();
        f2.setVolume(chordvolume);
        f2.play();
      } else if(input3Focused){
        b1.setVolume(basevolume);
        b1.play();
     } 
   }

    // Major 7 chords starts here in input2Focused
     if (key === 'c') {
      if(input1Focused){
        c4.setVolume(melodyvolume);
        c4.play();
      } else if(input2Focused){
        d3.setVolume(chordvolume);
        d3.play();
        e2.setVolume(chordvolume);
        e2.play();
        g2.setVolume(chordvolume);
        g2.play();
      } else if(input3Focused){
        c2.setVolume(basevolume);
        c2.play();
     }
   }
     if (key === 'f') {
      if(input1Focused){
        cs4.setVolume(melodyvolume);
        cs4.play();
      } else if(input2Focused){
        ds3.setVolume(chordvolume);
        ds3.play();
        f2.setVolume(chordvolume);
        f2.play();
        gs2.setVolume(chordvolume);
        gs2.play();
      } else if(input3Focused){
        cs2.setVolume(basevolume);
        cs2.play();
     }
   }
       if (key === 'v') {
      if(input1Focused){
        d4.setVolume(melodyvolume);
        d4.play();
      } else if(input2Focused){
        e3.setVolume(chordvolume);
        e3.play();
        fs2.setVolume(chordvolume);
        fs2.play();
        a2.setVolume(chordvolume);
        a2.play();
      } else if(input3Focused){
        d2.setVolume(basevolume);
        d2.play();
     }
   }
     if (key === 'g') {
      if(input1Focused){
        ds4.setVolume(melodyvolume);
        ds4.play();
      } else if(input2Focused){
        f3.setVolume(chordvolume);
        f3.play();
        g2.setVolume(chordvolume);
        g2.play();
        as2.setVolume(chordvolume);
        as2.play();
      } else if(input3Focused){
        ds2.setVolume(basevolume);
        ds2.play();
     } 
   }
      if (key === 'b') {
       if(input1Focused){
         e4.setVolume(melodyvolume);
         e4.play();
       } else if(input2Focused){
        fs3.setVolume(chordvolume);
        fs3.play();
        gs2.setVolume(chordvolume);
        gs2.play();
        b2.setVolume(chordvolume);
        b2.play();
       } else if(input3Focused){
         e2.setVolume(basevolume);
         e2.play();
     }
   }
     if (key === 'n') {
      if(input1Focused){
        f4.setVolume(melodyvolume);
        f4.play();
      } else if(input2Focused){
        g3.setVolume(chordvolume);
        g3.play();
        a2.setVolume(chordvolume);
        a2.play();
        c2.setVolume(chordvolume);
        c2.play();
      } else if(input3Focused){
        f2.setVolume(basevolume);
        f2.play();
     }
   }
     if (key === 'j') {
      if(input1Focused){
        fs4.setVolume(melodyvolume);
        fs4.play(); 
      } else if(input2Focused){ 
        gs3.setVolume(chordvolume);
        gs3.play();
        a2.setVolume(chordvolume);
        a2.play();
        c2.setVolume(chordvolume);
        c2.play();
      } else if(input3Focused){
        fs2.setVolume(basevolume);
        fs2.play(); 
     }
   }
     if (key === 'm' ) {
      if(input1Focused){
        g4.setVolume(melodyvolume);
        g4.play();
      } else if(input2Focused){
        a3.setVolume(chordvolume);
        a3.play();
        b2.setVolume(chordvolume);
        b2.play();
        d2.setVolume(chordvolume);
        d2.play();
      } else if(input3Focused){
        g2.setVolume(basevolume);
        g2.play();
     } 
   }
     if (key === 'k') {
      if(input1Focused){
        gs4.setVolume(melodyvolume);
        gs4.play();
      } else if(input2Focused){
        as3.setVolume(chordvolume);
        as3.play();
        c2.setVolume(chordvolume);
        c2.play();
        ds2.setVolume(chordvolume);
        ds2.play();
      } else if(input3Focused){
        gs2.setVolume(basevolume);
        gs2.play();
     } 
   }
     if (key === ',') {
      if(input1Focused){
        a4.setVolume(melodyvolume);
        a4.play();
      } else if(input2Focused){
        b3.setVolume(chordvolume);
        b3.play();
        cs2.setVolume(chordvolume);
        cs2.play();
        e2.setVolume(chordvolume);
        e2.play();
      } else if(input3Focused){
        a2.setVolume(basevolume);
        a2.play();
     } 
   }
     if (key === 'l') {
      if(input1Focused){
        as4.setVolume(melodyvolume);
        as4.play(); 
      } else if(input2Focused){ 
        c3.setVolume(chordvolume);
        c3.play();
        d2.setVolume(chordvolume);
        d2.play();
        f2.setVolume(chordvolume);
        f2.play();
      } else if(input3Focused){
        as2.setVolume(basevolume);
        as2.play(); 
     } 
   }
     if (key === '.') {
      if(input1Focused){
        b4.setVolume(melodyvolume);
        b4.play();
      } else if(input2Focused){
        cs3.setVolume(chordvolume);
        cs3.play();
        ds2.setVolume(chordvolume);
        ds2.play();
        f2.setVolume(chordvolume);
        f2.play();
      } else if(input3Focused){
        b2.setVolume(basevolume);
        b2.play();
     } 
   }
     if (key === '/') {
      if(input1Focused){
        c5.setVolume(melodyvolume);
        c5.play();
      } else if(input2Focused){
        d3.setVolume(chordvolume);
        d3.play();
        e2.setVolume(chordvolume);
        e2.play();
        g2.setVolume(chordvolume);
        g2.play();
      } else if(input3Focused){
        c3.setVolume(basevolume);
        c3.play();
     } 
   }

 }
  














